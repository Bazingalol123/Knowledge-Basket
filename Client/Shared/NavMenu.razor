@using template.Client.Components;

<nav>
    <div>
        <NavLink href="" Match="NavLinkMatch.All">
            משחק
        </NavLink>
    </div>
    <div>
        <NavLink href="GamesList" Match="NavLinkMatch.Prefix" disabled="@(showAboutPopup || showHowToPlayPopUp)">
            עורך
        </NavLink>
    </div>
    <div>
        <NavLink style="cursor:pointer;" class="@(showHowToPlayPopUp ? "active" : "")" @onclick="ShowHowToPlayPopUp">
            איך משחקים
        </NavLink>
    </div>
    <div>
        <NavLink style="cursor:pointer;" class="@(showAboutPopup ? "active" : "")" @onclick="ShowAboutPopup">
            אודות
        </NavLink>
    </div>
</nav>

<PopUpComponent IsVisible="showAboutPopup" OnClose="ShowAboutPopup" src="images/basketball-player-shade.png">
    <div id="about-pop-up">
        <div id="headerText">
            <img src="images/logo.png" />
            <p style="color:white;font-size:30px;">אודות</p>
            <p>
                עומר קריספי, רז לוי וסתיו מרק
            </p>
            <p>פותח במסגרת פרויקט בקורסים:</p>
            <p>סביבות אינטראקטיביות 2, תכנות 2, תכנות אנימציה ואינטראקציה 2, תשפ"ד</p>
        </div>

        <div id="about-pop-up-footer">
            <img src="images/hit-logo.png" style="height:50px;width:auto;" />
            <a href="https://www.hit.ac.il/academic/instructional-technologies/">הפקולטה לטכנולוגיות למידה</a>
            <p style="margin-bottom:0px;margin-top:0px;font-size:12px; color:white;">מכון טכנולוגי חולון</p>
        </div>
    </div>
</PopUpComponent>

<PopUpComponent IsVisible="showHowToPlayPopUp" OnClose="ShowHowToPlayPopUp" src="" >
    <div id="about-pop-up">
        <div id="headerText">
            <p style="color:white;font-size:30px;">איך משחקים?</p>
            <div class="video-container">
                <iframe width="350" height="250" src="https://www.youtube.com/embed/7A_hMg2TeUA"
                        title="סרטון - איך משחקים" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;"
                        allowfullscreen>
                </iframe>
            </div>
        </div>
    </div>
</PopUpComponent>

<style>
    #about-pop-up {
        flex-direction: column;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        right: 50%;
        bottom: 20px;
        transform: translateX(50%);
    }

    #about-pop-up-footer {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        top: 25px;
    }

    .video-container {
        position: relative;
        top: 40px;
    }

    #headerText {
        position: relative;
        bottom: 10px;
        flex-direction: column;
        display: flex;
        justify-content: center;
        align-items: center;
    }

        #headerText img {
            position: relative;
            top: 30px;
        }

        #headerText p {
            color: white;
            font-size: 14px;
            margin-top: 30px;
            margin-bottom: -10px;
        }

    /* CSS for active state */
    .active {
        background-color: rgba(255, 255, 255, 0.25);
        color: orange;
        font-weight: bold;
    }
</style>

@code {
    private bool showAboutPopup = false;
    private bool showHowToPlayPopUp = false;


        
    private void ShowAboutPopup()
    {
        showAboutPopup = !showAboutPopup;
        if (showHowToPlayPopUp)
        {
            showHowToPlayPopUp = !showHowToPlayPopUp;
        }
    }

    private void ShowHowToPlayPopUp()
    {
        showHowToPlayPopUp = !showHowToPlayPopUp;

        if (showAboutPopup)
        {
            showAboutPopup = !showAboutPopup;
        }
    }
}
